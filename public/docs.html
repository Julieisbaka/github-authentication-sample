<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Documentation - Webish</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <header>
    <div class="container">
      <a href="/" class="site-title">Webish</a>
      <nav class="main-nav">
        <ul>
          <li><a href="/" class="nav-link">Home</a></li>
          <li><a href="/settings.html" class="nav-link">Settings</a></li>
          <li><a href="/docs.html" class="nav-link active">Documentation</a></li>
        </ul>
      </nav>
      <div id="auth-container">
        <div class="auth-state hidden" id="authenticated-container">
          <img id="avatar" src="" alt="Profile Picture">
          <span id="username"></span>
          <a href="/logout" class="button button-secondary">Logout</a>
        </div>
        <div class="auth-state" id="unauthenticated-container">
          <a href="/login" class="button" id="login-button">Login with GitHub</a>
        </div>
      </div>
    </div>
  </header>

  <main class="container">
    <div class="docs-container">
      <aside class="docs-sidebar">
        <nav>
          <ul>
            <li><a href="#getting-started" class="sidebar-link active">Getting Started</a></li>
            <li><a href="#authentication" class="sidebar-link">Authentication</a></li>
            <li><a href="#api-usage" class="sidebar-link">API Usage</a></li>
            <li><a href="#settings" class="sidebar-link">Settings</a></li>
            <li><a href="#advanced" class="sidebar-link">Advanced Topics</a></li>
          </ul>
        </nav>
      </aside>

      <div class="docs-content">
        <section id="getting-started" class="docs-section">
          <h2>Getting Started</h2>
          <p>Welcome to the Webish documentation. This guide will help you understand how the application works and how to add your own tools and games to Webish.</p>
          
          <h3>Requirements</h3>
          <ul>
            <li>GitHub account</li>
            <li>GitHub OAuth App registration</li>
          </ul>
          
          <h3>Installation</h3>
          <div class="code-block">
            <pre><code>git clone https://github.com/yourusername/github-authentication-sample.git
cd github-authentication-sample
npm install
cp .env.example .env
# Edit .env with your GitHub OAuth credentials
npm start</code></pre>
          </div>
          
          <h3>Configuration</h3>
          <p>Before running the application, you need to set up a GitHub OAuth App:</p>
          <ol>
            <li>Go to your GitHub account settings</li>
            <li>Navigate to Developer Settings > OAuth Apps > New OAuth App</li>
            <li>Fill in the application details:
              <ul>
                <li>Application name: GitHub Auth Sample</li>
                <li>Homepage URL: http://localhost:3000</li>
                <li>Authorization callback URL: http://localhost:3000/callback</li>
              </ul>
            </li>
            <li>Click "Register application"</li>
            <li>Copy the Client ID and generate a Client Secret</li>
            <li>Add these values to your .env file</li>
          </ol>
        </section>
        
        <section id="authentication" class="docs-section">
          <h2>Authentication</h2>
          <p>This application uses GitHub's OAuth 2.0 flow for authentication.</p>
          
          <h3>OAuth Flow</h3>
          <ol>
            <li>User clicks "Login with GitHub" button</li>
            <li>User is redirected to GitHub's authorization page</li>
            <li>After granting permission, GitHub redirects back with a code</li>
            <li>The server exchanges this code for an access token</li>
            <li>The token is stored in the user's session</li>
            <li>The application uses this token to make authenticated API requests</li>
          </ol>
          
          <h3>Scopes</h3>
          <p>This application requests the following GitHub OAuth scopes:</p>
          <ul>
            <li><code>user:email</code> - Read access to user's email addresses</li>
            <li><code>read:user</code> - Read access to user profile data</li>
            <li><code>public_repo</code> - Access to public repositories</li>
          </ul>
          
          <h3>Security Considerations</h3>
          <p>The application follows these security best practices:</p>
          <ul>
            <li>Storing tokens server-side in session storage, never exposing them to the client</li>
            <li>Using HTTPS in production</li>
            <li>Implementing proper session management</li>
            <li>Validating all user inputs</li>
          </ul>
        </section>
        
        <section id="api-usage" class="docs-section">
          <h2>API Usage</h2>
          <p>The application provides several API endpoints for client-side interaction:</p>
          
          <h3>User Endpoints</h3>
          <div class="api-endpoint">
            <h4>GET /api/user</h4>
            <p>Returns the authenticated user's profile information.</p>
            <p><strong>Authorization:</strong> Requires active session</p>
            <p><strong>Response:</strong> JSON object with user data</p>
            <div class="code-block">
              <pre><code>{
  "login": "username",
  "id": 12345678,
  "avatar_url": "https://avatars.githubusercontent.com/u/12345678",
  "name": "User's Name",
  "bio": "User's bio",
  ...
}</code></pre>
            </div>
          </div>
          
          <div class="api-endpoint">
            <h4>GET /api/repos</h4>
            <p>Returns the authenticated user's repositories.</p>
            <p><strong>Authorization:</strong> Requires active session</p>
            <p><strong>Response:</strong> Array of repository objects</p>
            <div class="code-block">
              <pre><code>[
  {
    "id": 123456789,
    "name": "repo-name",
    "full_name": "username/repo-name",
    "html_url": "https://github.com/username/repo-name",
    "description": "Repository description",
    "language": "JavaScript",
    "updated_at": "2023-01-01T00:00:00Z",
    ...
  }
]</code></pre>
            </div>
          </div>
        </section>
        
        <section id="settings" class="docs-section">
          <h2>Settings</h2>
          <p>The application allows users to customize their experience through various settings:</p>
          
          <h3>User Preferences</h3>
          <ul>
            <li><strong>Display Name:</strong> Personalize how your name appears</li>
            <li><strong>Email Notifications:</strong> Toggle email updates</li>
            <li><strong>Theme:</strong> Choose between light, dark, or system default appearance</li>
          </ul>
          
          <h3>Account Management</h3>
          <p>Users can disconnect their GitHub account from the application at any time through the Settings page. This will revoke the application's access token and clear all session data.</p>
        </section>
        
        <section id="advanced" class="docs-section">
          <h2>Advanced Topics</h2>
          
          <h3>Extending the Application</h3>
          <p>You can extend this application by:</p>
          <ul>
            <li>Adding additional GitHub API integrations</li>
            <li>Implementing a database to store user preferences</li>
            <li>Creating custom dashboards for repository analytics</li>
            <li>Adding support for organizations and teams</li>
          </ul>
          
          <h3>Troubleshooting</h3>
          <p>Common issues and solutions:</p>
          <div class="troubleshooting">
            <h4>Authentication Failures</h4>
            <p>If you're experiencing authentication issues:</p>
            <ul>
              <li>Verify your OAuth credentials in the .env file</li>
              <li>Check that your callback URL matches exactly what's registered</li>
              <li>Ensure your GitHub account has access to the requested scopes</li>
            </ul>
            
            <h4>Rate Limiting</h4>
            <p>GitHub API has rate limits. If you hit them:</p>
            <ul>
              <li>Implement caching for frequently accessed data</li>
              <li>Use conditional requests with ETag headers</li>
              <li>Consider upgrading to GitHub Apps for higher limits</li>
            </ul>
          </div>
        </section>
      </div>
    </div>
  </main>

  <footer>
    <div class="container">
      <p>&copy; 2025 Webish. All rights reserved.</p>
    </div>
  </footer>

  <script src="js/app.js"></script>
  <script src="js/docs.js"></script>
</body>
</html>